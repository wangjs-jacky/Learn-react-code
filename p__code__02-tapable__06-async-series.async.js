"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[455],{5170:function(R,v,o){o.r(v);var C=o(21140),w=o.n(C),D=o(63466),M=o.n(D),O=o(25359),f=o.n(O),L=o(49811),P=o.n(L),d=o(62086),p=function(e){return new Promise(function(r,t){setTimeout(function(){console.log("a"),r()},100)})},j=function(e){return function(r){return new Promise(function(t,u){setTimeout(function(){console.log("b"),e==="success"?t():e==="fail"&&u()},100)})}},E=j("success"),U=j("fail"),g=function(e){return new Promise(function(r,t){setTimeout(function(){console.log("c"),r()},100)})},A=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(){for(var u=arguments.length,i=new Array(u),_=0;_<u;_++)i[_]=arguments[_];var l=r[0],c=r.slice(1);return new Promise(function(h,n){c.reduce(function(b,m){return b.then(function(){return m.apply(void 0,i)})},l.apply(void 0,i)).then(function(){return h()}).catch(function(){return n()})})}},T=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(){for(var u=arguments.length,i=new Array(u),_=0;_<u;_++)i[_]=arguments[_];return new Promise(function(l,c){function h(){return n.apply(this,arguments)}function n(){return n=P()(f()().mark(function b(){var m;return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:m=0;case 1:if(!(m<r.length)){a.next=14;break}return a.prev=2,a.next=5,r[m](i);case 5:a.next=11;break;case 7:return a.prev=7,a.t0=a.catch(2),c(),a.abrupt("return");case 11:m++,a.next=1;break;case 14:case"end":return a.stop()}},b,null,[[2,7]])})),n.apply(this,arguments)}h().then(function(){return l()})})}},B=function(){function s(e){w()(this,s),this.tasks=[],this.name=e}return M()(s,[{key:"tapPromise",value:function(r){this.tasks.push(r)}},{key:"promise",value:function(){var r=this;return new Promise(function(t,u){var i=function(){var _=P()(f()().mark(function l(){var c;return f()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:c=0;case 1:if(!(c<r.tasks.length)){n.next=14;break}return n.prev=2,n.next=5,r.tasks[c]();case 5:n.next=11;break;case 7:return n.prev=7,n.t0=n.catch(2),u(),n.abrupt("return");case 11:c++,n.next=1;break;case 14:case"end":return n.stop()}},l,null,[[2,7]])}));return function(){return _.apply(this,arguments)}}();i().then(function(){return t()})})}}]),s}();v.default=function(){return(0,d.jsxs)("div",{children:[(0,d.jsx)("button",{onClick:function(){console.time("time1"),A(p,E,g)("name").then(function(){console.timeEnd("time1")},function(){console.log("\u4E32\u884C\u6267\u884C\u5931\u8D25")})},children:"\u4F7F\u7528 Promise \u4E32\u5B9E\u73B0"}),(0,d.jsx)("button",{onClick:function(){console.time("time2"),T(p,U,g)("name").then(function(){console.timeEnd("time2")},function(){console.log("\u4E32\u884C\u6267\u884C\u5931\u8D25")})},children:"\u4F7F\u7528 for \u5FAA\u73AF + async \u548C await \u5B9E\u73B0"}),(0,d.jsx)("button",{onClick:function(){var e=new B("name");e.tapPromise(p),e.tapPromise(E),e.tapPromise(g),console.time("time3"),e.promise().then(function(){return console.timeEnd("time3")},function(){console.log("\u4E32\u884C\u6267\u884C\u5931\u8D25")})},children:"\u7C7B\u7248\u672C"})]})}}}]);
